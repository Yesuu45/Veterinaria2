<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<!-- Hacemos ScrollPane el root para que siempre puedas desplazarte -->

<ScrollPane fitToHeight="true" fitToWidth="true" hbarPolicy="AS_NEEDED" pannable="true" prefHeight="650.0" prefWidth="1000.0" vbarPolicy="AS_NEEDED" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="co.edu.uniquindio.poo.veterinaria.viewController.ConsultaViewController">

    <content>
        <!-- Contenido principal con padding; se ajusta al ancho del ScrollPane -->
        <VBox spacing="15" style="-fx-background-color:#F5FBFF;">
            <padding><Insets bottom="15" left="15" right="15" top="15" /></padding>

            <!-- Título -->
            <Text fill="#2C5F2D" style="-fx-font-weight: bold;" text="📋 Gestión de Consultas">
                <font><Font size="26" /></font>
            </Text>

            <!-- Propietarios + Mascotas -->
            <VBox spacing="8">
                <Text fill="#2C5F2D" style="-fx-font-weight: bold;" text="Propietarios y Mascotas">
                    <font><Font size="18" /></font>
                </Text>
                <TableView fx:id="tblPropietarios" minHeight="150.0" prefHeight="220.0">
                    <columns>
                        <TableColumn fx:id="colNombrePropietario" prefWidth="180" text="Nombre Propietario" />
                        <TableColumn fx:id="colIdPropietario" prefWidth="120" text="Cédula" />
                        <TableColumn fx:id="colTelefonoPropietario" prefWidth="120" text="Teléfono" />
                        <TableColumn fx:id="colDireccionPropietario" prefWidth="180" text="Dirección" />
                        <TableColumn fx:id="colGmailPropietario" prefWidth="180" text="Correo" />
                        <TableColumn fx:id="colNombreMascota" prefWidth="150" text="Nombre Mascota" />
                        <TableColumn fx:id="colEspecieMascota" prefWidth="120" text="Especie" />
                        <TableColumn fx:id="colEdadMascota" prefWidth="80" text="Edad" />
                    </columns>
                </TableView>
            </VBox>

            <!-- Veterinarios -->
            <VBox spacing="8">
                <Text fill="#2C5F2D" style="-fx-font-weight: bold;" text="Veterinarios">
                    <font><Font size="18" /></font>
                </Text>
                <TableView fx:id="tblVeterinarios" minHeight="140.0" prefHeight="180.0">
                    <columns>
                        <TableColumn fx:id="colNombreVet" prefWidth="150" text="Nombre" />
                        <TableColumn fx:id="colIdVet" prefWidth="120" text="ID" />
                        <TableColumn fx:id="colTelefonoVet" prefWidth="120" text="Teléfono" />
                        <TableColumn fx:id="colDireccionVet" prefWidth="180" text="Dirección" />
                        <TableColumn fx:id="colGmailVet" prefWidth="180" text="Correo" />
                        <TableColumn fx:id="colLicenciaVet" prefWidth="120" text="Licencia" />
                        <TableColumn fx:id="colEspecialidadVet" prefWidth="140" text="Especialidad" />
                    </columns>
                </TableView>
            </VBox>

            <!-- Personal de Apoyo -->
            <VBox spacing="8">
                <Text fill="#2C5F2D" style="-fx-font-weight: bold;" text="Personal de Apoyo">
                    <font><Font size="18" /></font>
                </Text>
                <TableView fx:id="tblPersonalApoyo" minHeight="130.0" prefHeight="160.0">
                    <columns>
                        <TableColumn fx:id="colNombrePA" prefWidth="180" text="Nombre" />
                        <TableColumn fx:id="colIdPA" prefWidth="120" text="ID" />
                        <TableColumn fx:id="colTelefonoPA" prefWidth="120" text="Teléfono" />
                        <TableColumn fx:id="colDireccionPA" prefWidth="180" text="Dirección" />
                        <TableColumn fx:id="colGmailPA" prefWidth="354.0" text="Correo" />
                    </columns>
                </TableView>
            </VBox>

            <!-- Citas activas -->
            <VBox spacing="8">
                <Text fill="#2C5F2D" style="-fx-font-weight: bold;" text="Citas Activas">
                    <font><Font size="18" /></font>
                </Text>
                <TableView fx:id="tblCitasActivas" minHeight="150.0" prefHeight="200.0">
                    <columns>
                        <TableColumn fx:id="colClienteActivo" prefWidth="180" text="Cliente" />
                        <TableColumn fx:id="colMascotaActivo" prefWidth="150" text="Mascota" />
                        <TableColumn fx:id="colEspecieActivo" prefWidth="120" text="Especie" />
                        <TableColumn fx:id="colRazaActivo" prefWidth="140" text="Raza" />
                        <TableColumn fx:id="colVeterinarioActivo" prefWidth="180" text="Veterinario" />
                        <TableColumn fx:id="colTratamientoActivo" prefWidth="400" text="Tratamiento" />
                        <TableColumn fx:id="colFechaActivo" prefWidth="140" text="Fecha" />
                        <TableColumn fx:id="colEstadoActivo" prefWidth="120" text="Estado" />
                    </columns>
                </TableView>
                <HBox alignment="CENTER_RIGHT">
                    <Button fx:id="btnCitaTerminada" onAction="#onTerminarCita" prefHeight="35" prefWidth="150" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10;" text="Cita Terminada" />

                </HBox>
            </VBox>

            <!-- Historial -->
            <VBox spacing="8">
                <Text fill="#2C5F2D" style="-fx-font-weight: bold;" text="Historial de Citas Terminadas">
                    <font><Font size="18" /></font>
                </Text>

                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="Buscar mascota:" />
                    <TextField fx:id="txtBuscarMascota" promptText="Nombre de la mascota..." />
                    <Button onAction="#onBuscarMascota" text="Filtrar" />
                    <Button onAction="#onQuitarFiltro" text="Quitar filtro" />
                </HBox>

                <TableView fx:id="tblHistorialCitas" minHeight="150.0" prefHeight="220.0">
                    <columns>
                        <TableColumn fx:id="colClienteCita" prefWidth="180" text="Cliente" />
                        <TableColumn fx:id="colMascotaCita" prefWidth="150" text="Mascota" />
                        <TableColumn fx:id="colEspecieCita" prefWidth="120" text="Especie" />
                        <TableColumn fx:id="colRazaCita" prefWidth="140" text="Raza" />
                        <TableColumn fx:id="colVeterinarioCita" prefWidth="180" text="Veterinario" />
                        <TableColumn fx:id="colTratamientoCita" prefWidth="400" text="Tratamiento" />
                        <TableColumn fx:id="colFechaCita" prefWidth="140" text="Fecha" />
                        <TableColumn fx:id="colEstadoCita" prefWidth="120" text="Estado" />
                    </columns>
                </TableView>
            </VBox>

        </VBox>
    </content>
</ScrollPane>
